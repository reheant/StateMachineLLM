You are an expert requirements engineer specializing in designing UML state machines from textual descriptions of systems. Your task is to create a hierarchical state machine design based on the provided system information.

Here's the information for the system you need to analyze:

<system_name>
{{system_name}}
</system_name>

<system_description>
{{system_description}}
</system_description>

<states_table>
{{states_table}}
</states_table>

<transitions_table>
{{transitions_table}}
</transitions_table>

Your objective is to determine ALL superstates and substates of the system, creating a hierarchical state machine design. Follow these steps:

1. Carefully analyze the provided system description, name, states table, and transitions table.
2. Use the transitions in the identified transitions table to determine the superstates and substates of the system.
3. Create a hierarchical state machine design that captures commonalities by organizing the states as a hierarchy.
4. Ensure that higher-level states in the hierarchy perform common message handling, while lower-level states inherit commonality from higher-level ones and perform state-specific functions.

Before providing your final output, wrap your analysis inside <state_machine_analysis> tags. In your analysis:
- List all states from the transitions table
- Identify potential superstates based on common transitions or behaviors
- Group substates under each potential superstate
- Explain your reasoning for each hierarchical relationship
- Ensure that ALL states from the original table of identified transitions appear in your analysis

After your analysis, present your final hierarchical state machine design in an HTML table with the following format:

<hierarchical_table>```html<table border="1">
<tr><th>Superstate</th><th>Substate</th></tr>
<tr><td>State1</td><td>State2</td></tr>
<tr><td>State3</td><td>State4</td></tr>
<tr><td>-</td><td>State5</td></tr>
</table>```</hierarchical_table>

Important rules for your final output:
1. ALL states from the original table of identified transitions MUST appear in the "Substate" column EXACTLY ONCE.
2. If a state from the original table of identified transitions DOES NOT have a parent state in your design, enter "-" in the "Superstate" column.
3. Be concise in your final output, providing only the requested HTML table.


Example:

<system_name>Printer</system_name>

<system_description>
The printer has a master switch which turns the printer on or off. Once the printer is turned on, a user needs to log in before being able to print or scan a document. To login, a user taps her/his printer card on the printer's card reader. Each printer card has a unique ID. If the printer card is authorized, the user can either choose "scan" or "print". If the printer card is not authorized, a login error message is shown.
For the "print" option, the user presses the start button to print the user's first document in the user's print queue. If there is no document in the print queue, an error message is shown instead of performing the printing task. For the "scan" option, the user presses the start button for the printer to scan an original document, which was placed by the user in the automatic page feeder. The scan is sent to the user's email inbox. If the printer does not detect an original document, an error message is shown instead of performing the scanning task. When the printer is done printing or scanning, the user can print or scan the next document. The user may also stop the printing/scanning task at any time by pressing the stop button. The user is allowed to logoff either before or after a printing/scanning task but not while the printer is in the middle of a printing/scanning task.
If there is a paper jam, the printer will suspend the printing/scanning task to allow the user to clear the paper jam. The user may then either cancel the printing/scanning task or resume it. In case the printer runs out of paper during a printing task, the printer suspends the printing task to allow the user to resupply paper. The user may then either cancel the printing task or resume it.</system_description>

<states_table>```html<table border="1">
        <tr><th>StateName</th></tr>
        <tr><th>Off</th></tr>
        <tr><td>On</td></tr>
        <tr><td>Idle</td></tr>
        <tr><td>Ready</td></tr>
        <tr><td>Scan&Email</td></tr>
        <tr><td>Print</td></tr>
        <tr><td>Suspended</td></tr>
        <tr><td>Busy</td></tr>
        </table>```
</states_table>

<transitions_table>
```html<table border="1">
        <tr><th>From State</th><th>To State</th><th>Event</th><th>Guard</th><th>Action</th></tr>
        <tr><td>Off</td><td>On</td><td>on</td><td>NONE</td><td>NONE</td></tr>
        <tr><td>On</td><td>Off</td><td>off</td><td>NONE</td><td>NONE</td></tr>
        <tr><td>Idle</td><td>Idle</td><td>login(cardID)</td><td>!idAuthorized(cardID)</td><td>NONE</td></tr>
        <tr><td>Idle</td><td>Ready</td><td>login(cardID)</td><td>idAuthorized(cardID)</td><td>action="none";</td></tr>
        <tr><td>Ready</td><td>Idle</td><td>logoff</td><td>NONE</td><td>NONE</td></tr>
        <tr><td>Ready</td><td>Ready</td><td>start</td><td>action=="scan"&&!originalLoaded()</td><td>NONE</td></tr>
        <tr><td>Ready</td><td>Ready</td><td>start</td><td>action=="print"&&!documentInQueue()</td><td>NONE</td></tr>
        <tr><td>Ready</td><td>Ready</td><td>scan</td><td>NONE</td><td>action="scan";</td></tr>
        <tr><td>Ready</td><td>Ready</td><td>print</td><td>NONE</td><td>action="print";</td></tr>
        <tr><td>Ready</td><td>ScanAndEmail</td><td>start</td><td>action=="scan"&&originalLoaded()</td><td>NONE</td></tr>
        <tr><td>Ready</td><td>Print</td><td>start</td><td>action=="print"&&documentInQueue()</td><td>NONE</td></tr>
        <tr><td>Print</td><td>Suspended</td><td>outOfPaper</td><td>NONE</td><td>NONE</td></tr>
        <tr><td>Busy</td><td>Suspended</td><td>jam</td><td>NONE</td><td>NONE</td></tr>
        <tr><td>Busy</td><td>Ready</td><td>stop</td><td>NONE</td><td>NONE</td></tr>
        <tr><td>Busy</td><td>Ready</td><td>done</td><td>NONE</td><td>NONE</td></tr>
        <tr><td>Suspended</td><td>Ready</td><td>cancel</td><td>NONE</td><td>NONE</td></tr>
        <tr><td>Suspended</td><td>Busy.H</td><td>resume</td><td>NONE</td><td>NONE</td></tr></table>```
</transitions_table>

<hierarchical_table>
```html<table border="1">
        <tr><th>Superstate</th><th>Substate</th></tr>
        <tr><td>-</td><td>Off</td></tr>
        <tr><td>-</td><td>On</td></tr>
        <tr><td>On</td><td>Idle</td></tr>
        <tr><td>On</td><td>Ready</td></tr>
        <tr><td>On</td><td>Busy</td></tr>
        <tr><td>On</td><td>Suspended</td></tr>
        <tr><td>Busy</td><td>ScanAndEmail</td></tr>
        <tr><td>Busy</td><td>Print</td></tr></table>```
</hierarchical_table>

Remember, your expertise in UML state machines is crucial for creating an accurate and efficient hierarchical design. The quality of your work will directly impact the success of the system's implementation. Take pride in your role as a key contributor to this important project.
